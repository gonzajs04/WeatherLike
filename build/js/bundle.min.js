function iniciarApp(){const e=document.querySelector(".menu");null!=e&&e.addEventListener("click",()=>{desplegarMenu()})}function desplegarMenu(){const e=document.querySelector(".header");document.querySelector(".container-nav").classList.toggle("visible"),e.classList.toggle("visible")}document.addEventListener("DOMContentLoaded",()=>{cargarSpinning(),clima.fetchWeather("Buenos Aires"),searchCountry(),iniciarApp()});let clima={apikey:"0497c943d5a50cd659115ae71d5fa56e",fetchWeather:e=>{leerApi(e)},displayWeather:e=>{const{name:t,timezone:n,dt:o}=e,{icon:r,description:c}=e.weather[0],{temp:a,temp_min:i,temp_max:u,humidity:l}=e.main,{all:s}=e.clouds,{speed:m}=e.wind,{country:d}=e.sys,{feels_like:p}=e.main,y=(new Date).getHours()+":"+(new Date).getMinutes();document.querySelector(".container-pais h2").textContent=t,document.querySelector(".container-logo-clima img").src=`http://openweathermap.org/img/w/${r}.png`,document.querySelector(".container-temperatura p").textContent=convertirCelcius(a)+" C°",document.querySelector(".container-clima h3").textContent=c,document.querySelector(".humedad-span").textContent=l+"% |",document.querySelector(".container-viento span").textContent=m+"km/h |",document.querySelector(".container-clouds span").textContent=s+"% |",document.querySelector(".image-back").src="https://source.unsplash.com/1600x900/?"+t,document.querySelector(".span-hora").textContent=y+" "+d,document.querySelector(".span-tempmin").textContent="Min "+convertirCelcius(i)+"C°",document.querySelector(".span-tempmax").textContent="Max "+convertirCelcius(u)+"C°",document.querySelector(".container-sensacion span").textContent=convertirCelcius(p)+"C°";const{lat:C,lon:h}=e.coord;leerApiDaily(C,h)},mostrarClimaDias:e=>{const t=e.list,n=recorrerImagenes(".container-daily-img img"),o=recorrerP(".container-daily-temp p");t.forEach((e,t)=>{if(t<7){const{temp:r}=e.main,{icon:c}=e.weather[0];n[t].src=`http://openweathermap.org/img/w/${c}.png`,o[t].textContent=convertirCelcius(r)+" C°"}})},searchCountry:()=>{clima.fetchWeather(document.querySelector(".search").value)}};function recorrerP(e){return document.querySelectorAll(e)}function recorrerImagenes(e){return document.querySelectorAll(e)}async function leerApiDaily(e,t){try{const n=await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${e}&lon=${t}&appid=0497c943d5a50cd659115ae71d5fa56e`),o=await n.json();clima.mostrarClimaDias(o)}catch(e){console.log(e)}}function searchCountry(){const e=document.querySelector(".logo-lupa button"),t=document.querySelector(".search");e.addEventListener("click",()=>{clima.searchCountry()}),t.addEventListener("keyup",e=>{"Enter"==e.key&&clima.searchCountry()})}function convertirCelcius(e){return(e-273.15).toFixed(1)}async function leerApi(e){try{let t=JSON.parse(JSON.stringify(e));t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"");const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=0497c943d5a50cd659115ae71d5fa56e`),o=await n.json();clima.displayWeather(o)}catch(e){container=document.querySelector(".container-pais");const t=document.createElement("P");t.style.fontSize="2rem",container.appendChild(t),t.textContent="NO EXISTE LA CIUDAD SOLICITADA",setTimeout(()=>{t.textContent=""},2e3),blanquearCard()}}function blanquearCard(){document.querySelector(".container-pais h2").textContent="",document.querySelector(".container-logo-clima img").src="",document.querySelector(".container-temperatura p").textContent="",document.querySelector(".container-clima h3").textContent="",document.querySelector(".humedad-span").textContent="",document.querySelector(".container-viento span").textContent="",document.querySelector(".container-clouds span").textContent="",document.querySelector(".container-sensacion span").textContent="",document.querySelector(".container-sensacion span").textContent="",document.querySelector(".span-tempmin").textContent="",document.querySelector(".span-tempmax").textContent="",document.querySelector(".span-hora").textContent=""}function cargarSpinning(){const e=document.querySelector(".spinning"),t=document.querySelector("body");setTimeout(()=>{t.classList.add("no-fijo"),e.classList.add("no-visible")},2e3)}
//# sourceMappingURL=bundle.js.map
